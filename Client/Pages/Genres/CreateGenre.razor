@page "/genre/create"
@inject IGenreRepository genreRepository
@inject NavigationManager navigationManager

<h3>CreateGenre</h3>

<GenreForm Genre="genre" OnValidSubmit="Add" />

@code {
  private Genre genre = new Genre();

  private async Task Add()
  {
    System.Console.WriteLine("Add method");
    System.Console.WriteLine(genre.Name);

    try
    {
      await genreRepository.CreateGenre(genre);
      navigationManager.NavigateTo("genres");
    }
    catch (Exception ex)
    {
      // ...
      System.Console.WriteLine(ex.Message);
    }
  }
}
