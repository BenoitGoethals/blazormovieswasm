@page "/person/create"
@inject IPersonRepository personRepository
@inject NavigationManager navigationManager

<h3>Create Person</h3>

<PersonForm Person="Person" OnValidSubmit="Add" />

@code {
  Person Person = new Person();

  private async Task Add()
  {
    try
    {
      await personRepository.CreatePerson(Person);
      navigationManager.NavigateTo("people");
    }
    catch (Exception ex)
    {      
      System.Console.WriteLine(ex.Message);
    }
  }
}
